{"version":3,"sources":["webpack:///./src/views/files/Files.vue?3e8e","webpack:///src/views/files/Files.vue","webpack:///./src/views/files/Files.vue?34f8","webpack:///./src/views/files/Files.vue","webpack:///./src/views/files/Files.vue?1ef3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","type","id","on","change","$event","handleFileUploads","variant","disabled","click","sendFiles","_e","errors","_l","item","index","key","show","domProps","innerHTML","_s","message","staticRenderFns","Filesvue_type_script_lang_js_","data","loader","userFiles","uploadFiles","test","test2","computed","name","mounted","methods","_this","formData","FormData","length","i","file","append","axios_default","a","post","headers","Authorization","localStorage","getItem","Content-Type","then","response","status","$store","dispatch","$refs","files","value","catch","e","console","log","files_Filesvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Files_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Files_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-0deafc54.cccc958a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app flex-row bg-theme\"},[_c('div',{staticClass:\"container-fluid bg-theme\"},[_c('b-row',[_c('b-col',{staticClass:\"col-sm-12 col-12 offset-md-1 offset-lg-1 col-md-5 col-lg-5\"},[_c('h1',{staticClass:\"h1 my-3\"},[_vm._v(\"Заполните данные\")])])],1),_c('b-row',[_c('b-col',{staticClass:\"col-sm-12 col-12 offset-md-1 offset-lg-1 col-md-5 col-lg-5\"},[_c('h1',{staticClass:\"h4 my-1\"},[_vm._v(\"Выберите файл\")])])],1),_c('b-row',[_c('b-col',{staticClass:\"col-sm-12 col-12 offset-md-1 offset-lg-1 col-md-10 col-lg-10 d-flex mb-4\"},[_c('input',{ref:\"files\",staticClass:\"form-control-file\",attrs:{\"type\":\"file\",\"id\":\"files\"},on:{\"change\":function($event){_vm.handleFileUploads()}}})])],1),_c('b-row',[_c('b-col',{staticClass:\"col-sm-12 col-12 offset-md-1 offset-lg-1 col-md-5 col-lg-5\"},[_c('h1',{staticClass:\"h4 my-1\"},[_vm._v(\"Напишите комментарий\")])])],1),_c('b-row',[_c('b-col',{staticClass:\"offset-md-1 col-md-5 col-lg-5 offset-lg-1 col-sm-6 col mb-4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"comment\"}})])],1),_c('b-row',[_c('b-col',{staticClass:\"col-sm-12 col-12 offset-md-1 offset-lg-1 col-md-10 col-lg-10 d-flex\"},[_c('b-button',{staticClass:\"form__btn btn btn-lg btn-primary mb-4 mr-3\",attrs:{\"variant\":\"primary\",\"disabled\":_vm.disabled},on:{\"click\":_vm.sendFiles}},[_vm._v(\"Отправить\")]),(_vm.loader)?_c('div',{staticClass:\"loader\"}):_vm._e()],1)],1),(_vm.errors !== '')?_c('b-row',[_c('b-col',{staticClass:\"offset-md-1 col-md-5 col-lg-5 offset-lg-1 col-sm-6\"},_vm._l((_vm.errors),function(item,index){return _c('b-alert',{key:index,staticClass:\"mb-4\",attrs:{\"show\":\"\",\"variant\":\"danger\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(item)}})])}))],1):_vm._e(),(_vm.message !== '')?_c('b-row',[_c('b-col',{staticClass:\"offset-md-1 col-md-5 col-lg-5 offset-lg-1 col-sm-6\"},_vm._l((_vm.message),function(item,index){return _c('b-alert',{key:index,staticClass:\"mb-4\",attrs:{\"show\":\"\",\"variant\":\"success\"}},[_vm._v(\"\\n          \"+_vm._s(item)+\"\\n        \")])}))],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app flex-row bg-theme\">\n    <div class=\"container-fluid bg-theme\">\n\n      <b-row>\n        <b-col class=\"col-sm-12 col-12 offset-md-1 offset-lg-1 col-md-5 col-lg-5\">\n          <h1 class=\"h1 my-3\">Заполните данные</h1>\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col class=\"col-sm-12 col-12 offset-md-1 offset-lg-1 col-md-5 col-lg-5\">\n          <h1 class=\"h4 my-1\">Выберите файл</h1>\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col class=\"col-sm-12 col-12 offset-md-1 offset-lg-1 col-md-10 col-lg-10 d-flex mb-4\">\n          <input type=\"file\" id=\"files\" ref=\"files\" class=\"form-control-file\" v-on:change=\"handleFileUploads()\">\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col class=\"col-sm-12 col-12 offset-md-1 offset-lg-1 col-md-5 col-lg-5\">\n          <h1 class=\"h4 my-1\">Напишите комментарий</h1>\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col class=\"offset-md-1 col-md-5 col-lg-5 offset-lg-1 col-sm-6 col mb-4\">\n          <input  type=\"text\" id=\"comment\" class=\"form-control\">\n        </b-col>\n      </b-row>\n      <b-row >\n        <b-col class=\"col-sm-12 col-12 offset-md-1 offset-lg-1 col-md-10 col-lg-10 d-flex\">\n          <b-button variant=\"primary\" class=\"form__btn btn btn-lg btn-primary mb-4 mr-3\" v-on:click=\"sendFiles\" :disabled=\"disabled\">Отправить</b-button>\n          <div v-if=\"loader\" class=\"loader\"></div>\n        </b-col>\n      </b-row>\n      <b-row v-if=\"errors !== ''\">\n        <b-col class=\"offset-md-1 col-md-5 col-lg-5 offset-lg-1 col-sm-6\">\n          <b-alert v-for=\"(item, index) in errors\" show :key=\"index\" variant=\"danger\" class=\"mb-4\">\n            <span v-html=\"item\"></span>\n          </b-alert>\n        </b-col>\n      </b-row>\n      <b-row v-if=\"message !== ''\">\n        <b-col class=\"offset-md-1 col-md-5 col-lg-5 offset-lg-1 col-sm-6\">\n          <b-alert v-for=\"(item, index) in message\" show :key=\"index\" variant=\"success\" class=\"mb-4\">\n            {{ item }}\n          </b-alert>\n        </b-col>\n      </b-row>\n\n    </div>\n  </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    import { mapGetters } from 'vuex';\n\n    export default {\n      data() {\n        return {\n          errors: '',\n          message: '',\n          disabled: false,\n          loader: false,\n          userFiles: [],\n          uploadFiles: [],\n          test: {},\n          test2: [],\n        };\n      },\n      computed: {\n      },\n      name: 'Files',\n      mounted: function () {\n      },\n      methods: {\n        sendFiles: function () {\n\n          this.errors = '';\n\n          let formData = new FormData();\n\n          if (this.userFiles.length === 0 || this.userFiles.length > 10){\n            this.errors = [\"Выберите файл для загрузки!\"];\n            return false\n          }\n\n          for( let i = 0; i < this.userFiles.length; i++ ){\n            let file = this.userFiles[i];\n            formData.append('files[' + i + ']', file);\n          }\n\n          this.disabled = true;\n          this.loader = true;\n\n          axios.post( 'https://api.fun-gifs.ru/api/putFiles',\n            formData,\n            {\n              headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('access_token'),\n                'Content-Type': 'multipart/form-data'\n              }\n            }\n          ).then(response => {\n            if (response.data.status === 'error'){\n              this.errors = response.data.data.errors;\n              this.disabled = false;\n              this.loader = false;\n              return false;\n            }else if(response.data.status === 'message'){\n              return false;\n            }else if(response.data.status === 'ok'){\n              this.$store.dispatch('common/addAlert', { message: response.data.data.message[0] });\n              this.userFiles = '';\n              this.$refs.files.value = '';\n              this.disabled = false;\n              this.loader = false;\n            }\n          })\n            .catch(e => {\n              console.log(e);\n              this.errors = [\"Ошибка сервера! Попробуйте загрузить файлы еще раз, либо обратитесь в поддержку.\"];\n              this.disabled = false;\n              this.loader = false;\n            });\n\n        },\n        handleFileUploads: function (e) {\n          this.userFiles = this.$refs.files.files;\n        },\n      }\n    }\n</script>\n\n<style>\n  .link-container {\n    text-align: center;\n    position: relative;\n    word-break: break-all;\n    max-width: 100px;\n    min-width: 100px;\n  }\n\n  .file-link {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n  }\n\n  .link-container:hover {\n    color: #0ba2ff;\n    text-decoration: none;\n  }\n\n  .bg-theme {\n    background-color: #f6f7f7;\n  }\n  .loader {\n    border: 5px solid #f3f3f3; /* Light grey */\n    border-top: 5px solid #3498db; /* Blue */\n    border-radius: 50%;\n    width: 40px;\n    height: 40px;\n    animation: spin 1s linear infinite;\n  }\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Files.vue?vue&type=template&id=3d3b061c&\"\nimport script from \"./Files.vue?vue&type=script&lang=js&\"\nexport * from \"./Files.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Files.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Files.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}